<html>
<head>
  <style type="text/css">
  </style>
  <script type="text/javascript" src="./lib/fabric.js"></script>
  <script type="text/javascript" src="./lib/jquery-3.min.js"></script>
  <script type="text/javascript" src="./lib/filesaver.min.js"></script>
</head>
<body>
      <canvas id="c" width="300" height="500"></canvas>
</body>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script type="text/javascript">
(function() {
  var canvas = this.__canvas = new fabric.Canvas('c');
  // canvas.setBackgroundImage('http://res.cloudinary.com/dwo2xbukk/image/upload/v1504065786/iphone-5_yjpaox.png', canvas.renderAll.bind(canvas))
  fabric.Object.prototype.transparentCorners = false;

  var rects = []
  var top = 0
  var fixedheight = canvas.height/8
  var fixedwidth = (canvas.width-20)/2
  var left = 0
  for(var i=0; i<7; i++){
    top = top + (i/2)*(fixedheight)
    if(i%2){
      left = fixedwidth
    } else {
      left = 0
    }
    var rect = new fabric.Rect({
        originX: 'left',
        originY: 'top',
        left: left,
        top: top,
        width: fixedwidth,
        height: fixedheight,
        fill: 'transparent',
        stroke: 'black',
        strokeWidth: 2,
        selectable: true,
        lockScalingX: true,
        lockScalingY: true,
        lockMovementX: true,
        lockMovementY: true
    });
    canvas.add(rect)
    rects.push(rect)
  }


  canvas.setBackgroundImage('http://res.cloudinary.com/dwo2xbukk/image/upload/v1504175209/iphone-5-5s-slim_ibqczy.webp', canvas.renderAll.bind(canvas))

 
})();
</script>